<% if notice %>
  <div class="columns is-mobile is-centered">
    <div class="column is-half">
      <p id="notice" class="notification is-success"><%= notice %></p>
    </div>
  </div>
<% end %>

<div class="columns is-mobile is-centered">
  <div class="column is-half">
    <%= link_to 'Add a new movie', new_movie_path, :class => "button is-medium is-fullwidth is-primary" %>
  </div>
</div>

<div class="columns is-mobile is-centered">
  <div class="column is-half">
    <h3 class="title has-text-centered">Movies of page #<%= @random_page %></h3>
  </div>
</div>

<div class="columns is-mobile is-centered">
  <div class="column is-half">
    <h6 class="title has-text-centered">50 movies from <%= @movies_count %> total</h6>
  </div>
</div>

<%= paginate @movies %>
<br>


<div class="movies-table">
  <div class="table__wrapper">
    <table class="table is-bordered is-striped is-narrow is-hoverable is-fullwidth">
      <thead>
        <tr>
          <th>Title</th>
          <th>Description</th>
          <th>Movie length</th>
          <th>Release Date</th>
          <th>Rating</th>
          <th colspan="3">Actions</th>
        </tr>
      </thead>
      <tbody>
        <% @movies.each do |movie| %>
          <tr>
            <td><%= movie.title %></td>
            <td><%= sanitize(truncate(movie.description, length: 80)) %></td>
            <td><%= movie.movie_length %></td>
            <td><%= movie.release_date %></td>
            <td><%= movie.rating %></td>
            <td><%= link_to 'Show', movie, :class => "button is-light" %></td>
            <td><%= link_to 'Edit', edit_movie_path(movie), :class => "button is-info" %></td>
            <td><%= button_to "Destroy", movie_path(movie), method: :delete, :class => "button is-danger" %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
